{% extends 'base.html.twig' %}

{% block body %}
	{# {{ set nb = sizeof(results) }} #}
	<div class="relative isolate px-6 my-6 pt-14 lg:px-8">
		<h1 class="text-3xl font-bold tracking-tight text-gray-900">Your research for:
			{{ categoryName }}
			from
			{{ fromDate | date("d/m/Y") }}
			to
			{{ toDate | date("d/m/Y") }}</h1>
		<div>
			{% if results %}
				{% for service in results %}
					<div class="max-w-2xl px-8 py-4 my-6 bg-white rounded-lg shadow-md">
						<div class="flex items-center justify-between">
							{% for disponibilite in service.disponibilites %}
								<span class="text-sm font-light text-gray-600">Available from {{ disponibilite.beginDateDispo | date("d/m/Y") }} to {{ disponibilite.endDateDispo | date("d/m/Y")}}</span>
							{% endfor %}
							<a class="px-3 py-1 text-sm font-bold text-gray-100 transition-colors duration-300 transform bg-gray-600 rounded cursor-pointer hover:bg-gray-500" tabindex="0" role="button">{{ service.categorie.name }}</a>
						</div>

						<div class="mt-2">
							<a href="#" class="text-xl font-bold text-gray-700 e hover:text-gray-600  hover:underline" tabindex="0" role="link">{{ service.name }}</a>
							<p class="mt-2 text-gray-600 ">{{ service.description }}</p>
						</div>

						<div class="flex items-center justify-between mt-4">
							{# <a href="{{ path('disponibilite_details', {'id': service.id}) }}" class="text-blue-600  hover:underline" tabindex="0" role="link">Booking</a> #}
							
							<form action="{{path('service_details')}}">
								<input name="from" value="{{fromDate | date("d/m/Y")}}" hidden>
								<input name="to" value="{{toDate | date("d/m/Y")}}" hidden>
								<input name="id" value="{{service.id}}" hidden>
								<input type="submit" value="Book this service" class="text-blue-600  hover:underline" tabindex="0" role="link">
							</form>
						
							<div class="flex items-center">
								<img class="hidden object-cover w-10 h-10 mx-4 rounded-full sm:block" src="https://images.unsplash.com/photo-1502980426475-b83966705988?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=40&q=80" alt="avatar">
								<a class="font-bold text-gray-700 cursor-pointer " tabindex="0" role="link">{{ service.disponibilites[0].host.firstName }} {{ service.disponibilites[0].host.lastName }}</a>
							</div>
						</div>
					</div>
				{% endfor %}
			{% else %}
				<h2>There are no
					{{ categoryName }}
					services availables from the dates you have selected ({{ fromDate | date("d/m/Y") }}
					-
					{{ fromDate | date("d/m/Y") }})</h2>
				<div>
					<a href="{{ path('search_service') }}">Make another search</a>
				</div>
			{% endif %}
		</div>
	</div>

{% endblock %}
{# 
				<div class="flex justify-center">
				<div
					class="flex flex-col rounded-lg bg-white shadow-lg md:max-w-xl md:flex-row my-6">
					<img
					class="h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"
					src="https://mdbootstrap.com/wp-content/uploads/2020/06/vertical.jpg"
					alt="" />
					<div class="flex flex-col justify-start p-6">
					<h5
						class="mb-2 text-xl font-medium text-neutral-800">
						{{ disponibilite.service.name }}
					</h5>
					<p class="mb-4 text-base text-neutral-600">
						{{ disponibilite.service.description }}
					</p>
					<p class="text-xs text-neutral-800">
						By {{ disponibilite.host.firstName }} {{ disponibilite.host.lastName }}
					</p>
					<p class="text-xs text-neutral-800">
						Available from {{ disponibilite.beginDateDispo | date("d/m/Y") }} to {{ disponibilite.endDateDispo | date("d/m/Y")}}
					</p>
					<a
						href=" {{ path('disponibilite_details', {'id': disponibilite.id}) }}"
						class="inline-block my-2 rounded bg-primary px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]"
						data-te-ripple-init
						data-te-ripple-color="light">
						Booking
					</a>
					</div>
				</div>
				</div> #}

					{# <div>
						Problème pour récupérer mon image
						<img src='/public/images/{{ service.pictures[0].name }}'>
						{{ disponibilite.service.name }}
						{{ disponibilite.service.description }}
						By
						{{ disponibilite.host.firstName }}
						{{ disponibilite.host.lastName }}
						{{ disponibilite.beginDateDispo | date("d/m/Y") }}
						{{ disponibilite.endDateDispo | date("d/m/Y")}}
						<div><a href=" {{ path('disponibilite_details', {'id': disponibilite.id}) }}"> Booking</a>
						</div>
					</div>  #}